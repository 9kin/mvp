<div>
    {% if current_user.is_authenticated %}
    <h1>Hello, {{current_user.login }}!</h1>
    <p>
        Authentication
    </p>
    {% else %}
    <form method="POST" action="">
        {{ form.hidden_tag() if form.hidden_tag }}
        {% for f in form if f.type != 'CSRFTokenField' %}
        <div>
            {{ f.label }}
            {{ f }}
            {% if f.errors %}
            <ul>
                {% for e in f.errors %}
                <li>{{ e }}</li>
                {% endfor %}
            </ul>
            {% endif %}
        </div>
        {% endfor %}
        <button type="submit">login</button>
    </form>
    {% endif %}
</div>

<a href="/logout">logout</a>
